<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ú–∞–≥–∞–∑–∏–Ω iPhone & –ì–∞–¥–∂–µ—Ç—ã</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f7;
            color: #1d1d1f;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid #d2d2d7;
            margin-bottom: 30px;
        }
        h1 {
            color: #0071e3;
        }
        .cart-icon {
            position: relative;
            font-size: 24px;
            cursor: pointer;
        }
        .cart-count {
            position: absolute;
            top: -10px;
            right: -10px;
            background-color: #0071e3;
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
        }
        .category {
            margin-bottom: 40px;
        }
        .products {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
        }
        .product-card {
            background: white;
            border-radius: 12px;
            padding: 15px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            transition: transform 0.2s;
        }
        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        .product-name {
            font-weight: 600;
            margin-bottom: 8px;
        }
        .product-price {
            color: #0071e3;
            font-weight: bold;
            margin-bottom: 15px;
        }
        .add-to-cart {
            background-color: #0071e3;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 8px;
            cursor: pointer;
            width: 100%;
            font-weight: 600;
        }
        .add-to-cart:hover {
            background-color: #0077ed;
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è –∫–æ—Ä–∑–∏–Ω—ã */
        #cart-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            z-index: 1000;
        }
        .cart-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 25px;
            border-radius: 12px;
            width: 90%;
            max-width: 500px;
            max-height: 80vh;
            overflow-y: auto;
        }
        .close {
            float: right;
            font-size: 24px;
            cursor: pointer;
        }
        .cart-item {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid #d2d2d7;
        }
        .cart-total {
            font-weight: bold;
            font-size: 1.2em;
            margin: 20px 0;
            text-align: right;
        }
        .checkout-btn {
            background-color: #0071e3;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 8px;
            cursor: pointer;
            width: 100%;
            font-size: 16px;
            font-weight: 600;
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è —Ñ–æ—Ä–º—ã –∑–∞–∫–∞–∑–∞ */
        #order-form {
            display: none;
            margin-top: 20px;
        }
        .form-group {
            margin-bottom: 15px;
        }
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
        }
        input[type="text"] {
            width: 100%;
            padding: 10px;
            border: 1px solid #d2d2d7;
            border-radius: 8px;
            font-size: 16px;
        }
        .submit-order {
            background-color: #34c759;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 8px;
            cursor: pointer;
            width: 100%;
            font-size: 16px;
            font-weight: 600;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üõçÔ∏è –ú–∞–≥–∞–∑–∏–Ω iPhone & –ì–∞–¥–∂–µ—Ç—ã</h1>
            <div class="cart-icon" onclick="toggleCart()">
                üõí
                <span class="cart-count" id="cart-count">0</span>
            </div>
        </header>

        <div class="category">
            <h2>üì≤ –°–º–∞—Ä—Ç—Ñ–æ–Ω—ã iPhone –≤ –Ω–∞–ª–∏—á–∏–∏</h2>
            <div class="products" id="iphones">
                <!-- –¢–æ–≤–∞—Ä—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JS -->
            </div>
        </div>

        <div class="category">
            <h2>üî• –•–∏—Ç—ã –ø—Ä–æ–¥–∞–∂ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏</h2>
            <div class="products" id="accessories">
                <!-- –¢–æ–≤–∞—Ä—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JS -->
            </div>
        </div>

        <div class="category">
            <h2>üéß –ê—É–¥–∏–æ—Ç–µ—Ö–Ω–∏–∫–∞ –∏ –≥–∞–¥–∂–µ—Ç—ã</h2>
            <div class="products" id="audio">
                <!-- –¢–æ–≤–∞—Ä—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JS -->
            </div>
        </div>

        <div class="category">
            <h2>üõ†Ô∏è –ó–∞—â–∏—Ç–∞ –∏ —É—Ö–æ–¥</h2>
            <div class="products" id="protection">
                <!-- –¢–æ–≤–∞—Ä—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JS -->
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∫–æ—Ä–∑–∏–Ω—ã -->
    <div id="cart-modal">
        <div class="cart-content">
            <span class="close" onclick="toggleCart()">&times;</span>
            <h2>–í–∞—à–∞ –∫–æ—Ä–∑–∏–Ω–∞</h2>
            <div id="cart-items"></div>
            <div class="cart-total" id="cart-total">–ò—Ç–æ–≥–æ: 0 ‚ÇΩ</div>
            <button class="checkout-btn" onclick="showOrderForm()">–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑</button>
            
            <div id="order-form">
                <div class="form-group">
                    <label for="terminal">4-–∑–Ω–∞—á–Ω—ã–π –Ω–æ–º–µ—Ä —Ç–µ—Ä–º–∏–Ω–∞–ª–∞:</label>
                    <input type="text" id="terminal" maxlength="4" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 1234">
                </div>
                <button class="submit-order" onclick="submitOrder()">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –∑–∞–∫–∞–∑</button>
            </div>
        </div>
    </div>

    <script>
        // –î–∞–Ω–Ω—ã–µ —Ç–æ–≤–∞—Ä–æ–≤
        const products = {
            iphones: [
                {id: 1, name: "iPhone 16 Pro Max (–Ω–æ–≤–∏–Ω–∫–∞!)", price: 124990},
                {id: 2, name: "iPhone 16 Pro (–Ω–æ–≤–∏–Ω–∫–∞!)", price: 109990},
                {id: 3, name: "iPhone 16", price: 89990},
                {id: 4, name: "iPhone 16 Plus", price: 99990},
                {id: 5, name: "iPhone 15 Pro Max", price: 109990},
                {id: 6, name: "iPhone 15 Pro", price: 94990},
                {id: 7, name: "iPhone 15", price: 74990},
                {id: 8, name: "iPhone 13 Pro (–≤—ã–≥–æ–¥–Ω–∞—è —Ü–µ–Ω–∞!)", price: 64990}
            ],
            accessories: [
                {id: 9, name: "–ß–µ—Ö–æ–ª Apple Silicone Case —Å MagSafe", price: 4990},
                {id: 10, name: "–ö–∞–±–µ–ª—å USB-C ‚Äî Lightning (1 –º)", price: 1990},
                {id: 11, name: "–ê–¥–∞–ø—Ç–µ—Ä –ø–∏—Ç–∞–Ω–∏—è Apple 20W USB-C", price: 2490},
                {id: 12, name: "–ù–∞—É—à–Ω–∏–∫–∏ AirPods 3", price: 19990},
                {id: 13, name: "–ó–∞—â–∏—Ç–Ω–æ–µ —Å—Ç–µ–∫–ª–æ HD (3D)", price: 1990},
                {id: 14, name: "–ë–µ—Å–ø—Ä–æ–≤–æ–¥–Ω–æ–µ –∑–∞—Ä—è–¥–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ MagSafe", price: 5490},
                {id: 15, name: "–ß–µ—Ö–æ–ª –∑–∞—â–∏—Ç–Ω—ã–π —Å –∫–∞—Ä–¥—Ö–æ–ª–¥–µ—Ä–æ–º", price: 3290}
            ],
            audio: [
                {id: 16, name: "–ù–∞—É—à–Ω–∏–∫–∏ AirPods Pro (2-–≥–æ –ø–æ–∫–æ–ª–µ–Ω–∏—è)", price: 24990},
                {id: 17, name: "–ü–æ—Ä—Ç–∞—Ç–∏–≤–Ω–∞—è –∫–æ–ª–æ–Ω–∫–∞ JBL Flip 6", price: 11990},
                {id: 18, name: "Apple AirTag (—Ç—Ä–µ–∫–µ—Ä)", price: 3990},
                {id: 19, name: "–ö–∞–±–µ–ª—å USB-C (2 –º) –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –∑–∞—Ä—è–¥–∫–∏", price: 2790},
                {id: 20, name: "–í–Ω–µ—à–Ω–∏–π –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä 10000 mAh —Å PD", price: 4490}
            ],
            protection: [
                {id: 21, name: "–ù–∞–±–æ—Ä –¥–ª—è —á–∏—Å—Ç–∫–∏ (—Å–∞–ª—Ñ–µ—Ç–∫–∞ + —Å–ø—Ä–µ–π)", price: 790},
                {id: 22, name: "–í–æ–¥–æ–æ—Ç—Ç–∞–ª–∫–∏–≤–∞—é—â–µ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ –¥–ª—è –¥–∏–Ω–∞–º–∏–∫–æ–≤", price: 490},
                {id: 23, name: "–£–ª—å—Ç—Ä–∞–∑–≤—É–∫–æ–≤–∞—è —á–∏—Å—Ç–∫–∞ —Ä–∞–∑—ä–µ–º–æ–≤ (—É—Å–ª—É–≥–∞)", price: 990},
                {id: 24, name: "–°—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏–µ —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –Ω–∞ 1 –≥–æ–¥", price: 5990},
                {id: 25, name: "–ß–µ—Ö–æ–ª-–∫–Ω–∏–∂–∫–∞ —Å —Ñ—É–Ω–∫—Ü–∏–µ–π —Ä—É–∫–∏", price: 3990}
            ]
        };

        // –ö–æ—Ä–∑–∏–Ω–∞
        let cart = [];
        const cartModal = document.getElementById('cart-modal');
        const cartCount = document.getElementById('cart-count');
        const cartItems = document.getElementById('cart-items');
        const cartTotal = document.getElementById('cart-total');
        const orderForm = document.getElementById('order-form');

        // –ó–∞–ø–æ–ª–Ω—è–µ–º —Ç–æ–≤–∞—Ä—ã –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
        function renderProducts() {
            for (const category in products) {
                const container = document.getElementById(category);
                products[category].forEach(product => {
                    const productEl = document.createElement('div');
                    productEl.className = 'product-card';
                    productEl.innerHTML = `
                        <div class="product-name">${product.name}</div>
                        <div class="product-price">${formatPrice(product.price)}</div>
                        <button class="add-to-cart" onclick="addToCart(${product.id})">–î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É</button>
                    `;
                    container.appendChild(productEl);
                });
            }
        }

        // –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ü–µ–Ω—ã
        function formatPrice(price) {
            return price.toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ") + " ‚ÇΩ";
        }

        // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∫–æ—Ä–∑–∏–Ω—É
        function addToCart(productId) {
            let product;
            for (const category in products) {
                product = products[category].find(p => p.id === productId);
                if (product) break;
            }
            
            if (product) {
                const existingItem = cart.find(item => item.id === productId);
                if (existingItem) {
                    existingItem.quantity += 1;
                } else {
                    cart.push({...product, quantity: 1});
                }
                updateCart();
                alert(`–¢–æ–≤–∞—Ä "${product.name}" –¥–æ–±–∞–≤–ª–µ–Ω –≤ –∫–æ—Ä–∑–∏–Ω—É!`);
            }
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ—Ä–∑–∏–Ω—ã
        function updateCart() {
            cartCount.textContent = cart.reduce((total, item) => total + item.quantity, 0);
            
            cartItems.innerHTML = '';
            let total = 0;
            
            cart.forEach(item => {
                const itemTotal = item.price * item.quantity;
                total += itemTotal;
                
                const itemEl = document.createElement('div');
                itemEl.className = 'cart-item';
                itemEl.innerHTML = `
                    <div>${item.name} x${item.quantity}</div>
                    <div>${formatPrice(itemTotal)}</div>
                `;
                cartItems.appendChild(itemEl);
            });
            
            cartTotal.textContent = `–ò—Ç–æ–≥–æ: ${formatPrice(total)}`;
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å/—Å–∫—Ä—ã—Ç—å –∫–æ—Ä–∑–∏–Ω—É
        function toggleCart() {
            cartModal.style.display = cartModal.style.display === 'block' ? 'none' : 'block';
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å —Ñ–æ—Ä–º—É –∑–∞–∫–∞–∑–∞
        function showOrderForm() {
            if (cart.length === 0) {
                alert('–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞!');
                return;
            }
            orderForm.style.display = 'block';
        }

        // –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–∫–∞–∑
        function submitOrder() {
            const terminal = document.getElementById('terminal').value;
            
            if (!/^\d{4}$/.test(terminal)) {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π 4-–∑–Ω–∞—á–Ω—ã–π –Ω–æ–º–µ—Ä —Ç–µ—Ä–º–∏–Ω–∞–ª–∞.');
                return;
            }
            
            // –§–æ—Ä–º–∏—Ä—É–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è Telegram
            let message = `üõçÔ∏è *–ù–û–í–´–ô –ó–ê–ö–ê–ó*%0A%0A`;
            message += `*–ù–æ–º–µ—Ä —Ç–µ—Ä–º–∏–Ω–∞–ª–∞:* ${terminal}%0A%0A`;
            message += `*–°–æ—Å—Ç–∞–≤ –∑–∞–∫–∞–∑–∞:*%0A`;
            
            cart.forEach(item => {
                message += `- ${item.name} x${item.quantity} - ${formatPrice(item.price * item.quantity)}%0A`;
            });
            
            const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            message += `%0A*–ò—Ç–æ–≥–æ:* ${formatPrice(total)}`;
            
            // –ó–¥–µ—Å—å –Ω—É–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –≤–∞—à–∏ –¥–∞–Ω–Ω—ã–µ Telegram –±–æ—Ç–∞
            const botToken = '7964408824:AAFGavlgHc0dcmnlA7ou44nE4oCvshaltMQ'; // –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ —Ç–æ–∫–µ–Ω –≤–∞—à–µ–≥–æ –±–æ—Ç–∞
            const chatId = '5645655137';     // –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à chat_id
            
            // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ Telegram
            fetch(`https://api.telegram.org/bot${botToken}/sendMessage?chat_id=${chatId}&text=${message}&parse_mode=Markdown`)
                .then(response => response.json())
                .then(data => {
                    if (data.ok) {
                        alert('–ó–∞–∫–∞–∑ —É—Å–ø–µ—à–Ω–æ –æ—Ñ–æ—Ä–º–ª–µ–Ω! –ú—ã —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏ –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è.');
                        cart = [];
                        updateCart();
                        toggleCart();
                        orderForm.style.display = 'none';
                        document.getElementById('terminal').value = '';
                    } else {
                        alert('–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –∑–∞–∫–∞–∑–∞. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.');
                    }
                })
                .catch(error => {
                    console.error('Error:', error);
                    alert('–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.');
                });
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        renderProducts();
    </script>
</body>
</html>